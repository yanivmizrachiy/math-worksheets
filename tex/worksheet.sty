% worksheet.sty - עיצוב דפי עבודה במתמטיקה
% גרסה מתקדמת 2025 - חבילות מודרניות וחזקות ביותר
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{worksheet}[2025/12/26 Hebrew Math Worksheet Package - Advanced Edition]

% ============================================
% חבילות בסיסיות - חבילות מודרניות וחזקות
% ============================================

% גרפיקה מתקדמת
\RequirePackage{graphicx}

% מתמטיקה מתקדמת - חבילות חזקות ביותר
\RequirePackage{amsmath,amssymb,amsthm}

% טבלאות מתקדמות
\RequirePackage{array}

% שוליים - הגדרות אופטימליות (אם geometry זמין)
\IfFileExists{geometry.sty}{%
  \RequirePackage{geometry}
  \geometry{
    a4paper,
    top=2cm,
    bottom=2cm,
    left=2cm,
    right=2cm,
    headheight=0.5cm,
    headsep=0.5cm,
    footskip=1cm
  }
}{%
  % אם geometry לא זמין - שימוש בהגדרות ידניות
  \setlength{\topmargin}{-2cm}
  \setlength{\headheight}{0.5cm}
  \setlength{\headsep}{0.5cm}
  \setlength{\textheight}{24cm}
  \setlength{\oddsidemargin}{-2cm}
  \setlength{\textwidth}{17cm}
}

% כותרות - עיצוב מתקדם (אם fancyhdr זמין)
\IfFileExists{fancyhdr.sty}{%
  \RequirePackage{fancyhdr}
  \pagestyle{fancy}
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \fancyfoot[C]{\thepage}
}{%
  \pagestyle{plain}
}

% צבעים - תמיכה בצבעים מתקדמת (אם xcolor זמין)
\IfFileExists{xcolor.sty}{%
  \RequirePackage{xcolor}
}{}

% קישורים ו-PDF metadata (אם hyperref זמין)
\IfFileExists{hyperref.sty}{%
  \RequirePackage{hyperref}
  \hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
    pdftitle={דף עבודה במתמטיקה},
    pdfauthor={},
    pdfsubject={מתמטיקה},
    pdfkeywords={מתמטיקה, דף עבודה, עברית}
  }
}{}

% שיפור טיפוגרפיה (אם microtype זמין)
\IfFileExists{microtype.sty}{%
  \RequirePackage{microtype}
}{}

% טבלאות מתקדמות (אם זמינות)
\IfFileExists{booktabs.sty}{%
  \RequirePackage{booktabs}
}{}

\IfFileExists{longtable.sty}{%
  \RequirePackage{longtable}
}{}

\IfFileExists{tabularx.sty}{%
  \RequirePackage{tabularx}
}{}

% כלים נוספים (אם זמינים)
\IfFileExists{enumitem.sty}{%
  \RequirePackage{enumitem}
}{}

\IfFileExists{multicol.sty}{%
  \RequirePackage{multicol}
}{}

% ============================================
% הגדרות מתמטיקה מתקדמות
% ============================================

% משפטים
\theoremstyle{definition}
\newtheorem{question}{שאלה}[section]
\newtheorem*{solution}{פתרון}

% פקודות מתמטיקה מותאמות אישית
\newcommand{\RR}{\mathbb{R}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\CC}{\mathbb{C}}

% ============================================
% הגדרות עיצוב
% ============================================

% שיפור רווחים
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.5em plus 0.1em minus 0.1em}

% רשימות מותאמות (אם enumitem זמין)
\IfFileExists{enumitem.sty}{%
  \setlist[enumerate]{itemsep=0.3em, topsep=0.5em}
  \setlist[itemize]{itemsep=0.3em, topsep=0.5em}
}{}

\endinput
