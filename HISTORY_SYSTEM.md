# מערכת היסטוריה ושמירת משימות

**מערכת מעקב מסודרת אחרי שינויים ומשימות - הכל בעברית עם נתונים אמיתיים!**

---

## 🎯 מה המערכת עושה?

### תכונות:
- ✅ **מעקב אחרי שינויים בקבצים** - אוטומטי אחרי כל commit
- ✅ **שמירת משימות** - הוספה ועדכון משימות
- ✅ **היסטוריה יומית** - שמירת נתונים לפי תאריכים
- ✅ **סיכומים** - סטטיסטיקות ומעקב
- ✅ **סנכרון אוטומטי** - מסונכרן ל-GitHub
- ✅ **כל הנתונים בעברית** - תאריכים, שמות, תיאורים

---

## 📁 מבנה הקבצים

```
history/
├── 2025-12-26.json          # היסטוריה יומית
├── 2025-12-27.json          # היסטוריה יומית
├── all-history.json         # סיכום כולל
└── .gitkeep                 # שמירה ב-Git
```

---

## 🚀 שימוש

### מעקב אוטומטי (מומלץ):
המערכת רץ אוטומטית אחרי כל `git commit` דרך Git hook.

### מעקב ידני:
```powershell
.\TRACK_CHANGES.ps1
```

### הוספת משימה:
```powershell
.\ADD_TASK.ps1 -TaskDescription "תיקון בעיה ב-worksheet.sty" -Category "תיקון" -Priority "גבוהה"
```

### צפייה בהיסטוריה:

#### היסטוריה של היום:
```powershell
.\VIEW_HISTORY.ps1
```

#### היסטוריה של תאריך ספציפי:
```powershell
.\VIEW_HISTORY.ps1 -Date "2025-12-26"
```

#### רק משימות:
```powershell
.\VIEW_HISTORY.ps1 -Tasks
```

#### רק קבצים:
```powershell
.\VIEW_HISTORY.ps1 -Files
```

#### כל ההיסטוריה:
```powershell
.\VIEW_HISTORY.ps1 -All
```

---

## 📊 פורמט הנתונים

### קובץ היסטוריה יומי (YYYY-MM-DD.json):
```json
{
  "תאריך": "2025-12-26",
  "עדכונים": [
    {
      "זמן": "2025-12-26 14:30:00",
      "קבצים_ששונו": 3,
      "פרטי_קבצים": [
        {
          "קובץ": "index.html",
          "סטטוס": "שונה",
          "זמן": "2025-12-26 14:30:00"
        }
      ],
      "משתמש": "yaniv",
      "מערכת": "COMPUTER"
    }
  ],
  "קבצים_ששונו": [
    {
      "קובץ": "index.html",
      "סטטוס": "שונה",
      "זמן_ראשון": "2025-12-26 10:00:00",
      "זמן_אחרון": "2025-12-26 14:30:00"
    }
  ],
  "משימות": [
    {
      "מזהה": "guid",
      "תיאור": "תיקון בעיה",
      "קטגוריה": "תיקון",
      "עדיפות": "גבוהה",
      "סטטוס": "פתוח",
      "זמן_יצירה": "2025-12-26 15:00:00",
      "זמן_עדכון": "2025-12-26 15:00:00",
      "משתמש": "yaniv"
    }
  ],
  "הערות": []
}
```

---

## 🔄 סנכרון אוטומטי

ההיסטוריה מסונכרנת אוטומטית ל-GitHub:
- ✅ אחרי כל `git commit` (דרך Git hook)
- ✅ דרך `AUTO_SYNC_GITHUB.ps1`
- ✅ דרך `SYNC_TO_GITHUB.ps1`

**הקבצים ב-`history/` נשמרים ב-Git ומסונכרנים!**

---

## 📋 דוגמאות שימוש

### הוספת משימה חדשה:
```powershell
.\ADD_TASK.ps1 -TaskDescription "הוספת Desmos ו-GeoGebra" -Category "שיפור" -Priority "גבוהה"
```

### מעקב אחרי שינויים:
```powershell
# המערכת בודקת אוטומטית את Git status
.\TRACK_CHANGES.ps1
```

### צפייה במשימות של היום:
```powershell
.\VIEW_HISTORY.ps1 -Tasks
```

### סיכום שבועי:
```powershell
# צפייה בכל ההיסטוריה
.\VIEW_HISTORY.ps1 -All
```

---

## 🎨 שילוב באתר

ניתן להוסיף דף באתר שמציג את ההיסטוריה:
- `history-viewer.html` - דף HTML להצגת היסטוריה
- `history-api.ps1` - API ליצירת HTML מהיסטוריה

---

## ✅ יתרונות

1. **נתונים אמיתיים** - לא דמו, כל הנתונים נשמרים
2. **מסודר** - לפי תאריכים, קל למצוא
3. **אוטומטי** - רץ אחרי כל commit
4. **מסונכרן** - עם GitHub
5. **עברית מלאה** - כל הטקסטים בעברית
6. **ניתן להרחבה** - קל להוסיף תכונות

---

## 🔧 תחזוקה

### ניקוי היסטוריה ישנה (אופציונלי):
```powershell
# מחק קבצים ישנים יותר מ-30 יום
Get-ChildItem history\*.json | Where-Object { $_.LastWriteTime -lt (Get-Date).AddDays(-30) } | Remove-Item
```

### גיבוי:
ההיסטוריה נשמרת ב-Git, אז יש לך גיבוי אוטומטי ב-GitHub!

---

**עודכן:** 26 בדצמבר 2025

